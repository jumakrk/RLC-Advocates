<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insight | RLC Advocates</title>
    <meta name="description" content="Legal insights and articles from RLC Advocates.">
    <link rel="stylesheet" href="../shared/css/global.css">
    <link rel="stylesheet" href="article.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Specific Styles moved to article.css -->
</head>

<body>
    <!-- Header -->
    <header class="site-header">
        <div class="container header-container">
            <div class="logo">
                <a href="../index.html"><img src="../Images/rlc-white-logo.png" alt="RLC Logo"></a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../index.html#about">About</a></li>
                    <li><a href="../index.html#practice">Practice Areas</a></li>
                    <li><a href="../index.html#team">Team</a></li>
                    <li><a href="../blog/index.html">Insights</a></li>
                    <li><a href="../index.html#contact" class="btn btn-primary" style="color: white;">Contact Us</a></li>
                </ul>
            </nav>

            <div class="hamburger-menu">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </div>
    </header>

    <div id="loading">Loading Article...</div>

    <div id="article-container" style="display: none;">
        <article class="article-container">
            <!-- Header -->
            <header class="article-header">
                <!-- Orange Badge for Category -->
                <div style="text-align: center; margin-bottom: 20px;">
                    <span id="article-category"
                        style="background-color: var(--primary-color); color: white; padding: 6px 16px; border-radius: 50px; text-transform: uppercase; font-size: 0.75rem; font-weight: 700; letter-spacing: 1px;">Category</span>
                </div>

                <h1 class="entry-title" id="article-title">Title Here</h1>

                <div class="entry-meta">
                    <span><i class="far fa-calendar"></i> <span id="article-date">Oct 12, 2025</span></span>
                    <span><span style="opacity: 0.5; margin: 0 10px;">|</span> <i class="far fa-user"></i> RLC
                        Advocates</span>
                </div>
            </header>

            <!-- Featured Image -->
            <div class="featured-image-wrapper">
                <img id="article-cover" src="" alt="Cover Image">
            </div>

            <!-- Content -->
            <div class="article-content" id="article-body">
                <!-- Injected Content -->
            </div>

            <!-- Footer -->
            <div class="article-footer">
                <a href="../blog/index.html" class="back-btn"><i class="fas fa-arrow-left"></i> Back to Insights</a>
                <div class="share-links">
                    <span
                        style="color:var(--text-muted); margin-right: 15px; align-self:center; font-size:0.9rem;">Share
                        this article</span>
                    <a href="#" class="share-icon"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#" class="share-icon"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="share-icon"><i class="fab fa-facebook-f"></i></a>
                </div>
            </div>
        </article>
    </div>

    <footer
        style="text-align: center; padding: 4rem 2rem 2rem; border-top: 1px solid rgba(255,255,255,0.05); color: var(--text-muted); font-size: 0.9rem;">
        <p>&copy; 2026 RLC Advocates. All Rights Reserved.</p>
    </footer>

    <script src="../shared/js/global.js"></script> <!-- Core Interactivity (Sticky Header, Mobile Menu) -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const params = new URLSearchParams(window.location.search);
            const slug = params.get('slug');

            if (!slug) {
                window.location.href = '../blog/index.html';
                return;
            }

            try {
                const response = await fetch(`http://localhost:1337/api/articles?filters[slug][$eq]=${slug}&populate=*`);
                const data = await response.json();

                if (data.data.length === 0) {
                    document.getElementById('loading').innerText = 'Article not found.';
                    return;
                }

                const article = data.data[0];

                // Populate
                document.title = `${article.title} | RLC Advocates`;
                document.getElementById('article-title').innerText = article.title;
                document.getElementById('article-category').innerText = article.category;
                document.getElementById('article-date').innerText = new Date(article.date).toLocaleDateString();

                if (article.cover?.url) {
                    document.getElementById('article-cover').src = `http://localhost:1337${article.cover.url}`;
                    document.getElementById('article-cover').alt = article.title;
                } else {
                    document.querySelector('.featured-image-wrapper').style.display = 'none'; // Hide if no image
                }

                // Render Content
                if (typeof article.content === 'string') {
                    document.getElementById('article-body').innerHTML = marked.parse(article.content);
                } else {
                    // Block Renderer Fallback
                    const html = article.content.map(block => {
                        if (block.type === 'paragraph') return `<p>${block.children[0].text}</p>`;
                        if (block.type === 'heading') return `<h3>${block.children[0].text}</h3>`;
                        if (block.type === 'list') {
                            const tag = block.format === 'ordered' ? 'ol' : 'ul';
                            const items = block.children.map(item => `<li>${item.children[0].text}</li>`).join('');
                            return `<${tag}>${items}</${tag}>`;
                        }
                        return '';
                    }).join('');
                    document.getElementById('article-body').innerHTML = html;
                }

                document.getElementById('loading').style.display = 'none';
                document.getElementById('article-container').style.display = 'block';

            } catch (error) {
                console.error(error);
                document.getElementById('loading').innerText = 'Error loading article.';
            }
        });
    </script>
</body>

</html>