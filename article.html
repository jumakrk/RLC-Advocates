<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insight | RLC Advocates</title>
    <meta name="description" content="Legal insights and articles from RLC Advocates.">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Premium Article Layout */
        body {
            background-color: #0d1e1e;
        }

        .article-container {
            max-width: 900px;
            margin: 120px auto 100px;
            /* Top margin for fixed header */
            padding: 0 20px;
        }

        .article-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .breadcrumbs {
            color: var(--primary-color);
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 2px;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .breadcrumbs a {
            color: var(--text-muted);
            transition: color 0.3s;
        }

        .breadcrumbs a:hover {
            color: var(--primary-color);
        }

        h1.entry-title {
            font-size: 3.5rem;
            line-height: 1.1;
            margin-bottom: 20px;
            color: white;
        }

        .entry-meta {
            color: var(--text-muted);
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .entry-meta i {
            color: var(--primary-color);
            margin-right: 8px;
        }

        /* Featured Image */
        .featured-image-wrapper {
            width: 100%;
            height: auto;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 60px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .featured-image-wrapper img {
            width: 100%;
            display: block;
        }

        /* Content Area */
        .article-content {
            max-width: 800px;
            margin: 0 auto;
            color: #d1d5db;
            /* Light gray text */
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .article-content h1,
        .article-content h2,
        .article-content h3 {
            color: var(--primary-color);
            margin-top: 50px;
            margin-bottom: 20px;
        }

        .article-content h2 {
            font-size: 2rem;
        }

        .article-content h3 {
            font-size: 1.5rem;
        }

        .article-content p {
            margin-bottom: 30px;
        }

        .article-content ul,
        .article-content ol {
            margin-bottom: 30px;
            padding-left: 20px;
        }

        .article-content li {
            margin-bottom: 10px;
        }

        .article-content blockquote {
            border-left: 4px solid var(--primary-color);
            padding-left: 25px;
            margin: 40px 0;
            font-style: italic;
            color: white;
            font-size: 1.25rem;
            line-height: 1.6;
        }

        /* Share & Navigation */
        .article-footer {
            margin-top: 80px;
            padding-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            /* Allow wrapping */
            gap: 20px;
        }

        .back-btn {
            background-color: var(--primary-color);
            color: white;
            padding: 14px 36px;
            border-radius: 50px;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 0 20px var(--primary-glow);
            border: none;
            cursor: pointer;
        }

        .back-btn:hover {
            background-color: #ff7b29;
            box-shadow: 0 0 40px var(--primary-glow);
            transform: translateY(-2px);
        }

        .share-links {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .share-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: all 0.3s;
        }

        .share-icon:hover {
            background: var(--primary-color);
            transform: translateY(-3px);
            color: white;
        }

        /* Loading */
        #loading {
            text-align: center;
            padding: 100px;
            color: white;
            font-size: 1.2rem;
        }

        /* Mobile */
        @media(max-width: 768px) {
            h1.entry-title {
                font-size: 2.5rem;
            }

            .article-container {
                margin-top: 100px;
            }

            .article-footer {
                flex-direction: column;
                text-align: center;
                justify-content: center;
            }

            .share-links {
                justify-content: center;
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="site-header">
        <div class="container header-container">
            <div class="logo">
                <a href="/"><img src="Images/rlc-white-logo.png" alt="RLC Logo"></a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About</a></li>
                    <li><a href="/practice">Practice Areas</a></li>
                    <li><a href="/team">Team</a></li>
                    <li><a href="/blog">Insights</a></li>
                    <li><a href="/contact" class="btn btn-primary" style="color: white;">Contact Us</a></li>
                </ul>
            </nav>

            <div class="hamburger-menu">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </div>
    </header>

    <div id="loading">Loading Article...</div>

    <div id="article-container" style="display: none;">
        <article class="article-container">
            <!-- Header -->
            <header class="article-header">
                <!-- Orange Badge for Category -->
                <div style="text-align: center; margin-bottom: 20px;">
                    <span id="article-category"
                        style="background-color: var(--primary-color); color: white; padding: 6px 16px; border-radius: 50px; text-transform: uppercase; font-size: 0.75rem; font-weight: 700; letter-spacing: 1px;">Category</span>
                </div>

                <h1 class="entry-title" id="article-title">Title Here</h1>

                <div class="entry-meta">
                    <span><i class="far fa-calendar"></i> <span id="article-date">Oct 12, 2025</span></span>
                    <span><span style="opacity: 0.5; margin: 0 10px;">|</span> <i class="far fa-user"></i> RLC
                        Advocates</span>
                </div>
            </header>

            <!-- Featured Image -->
            <div class="featured-image-wrapper">
                <img id="article-cover" src="" alt="Cover Image">
            </div>

            <!-- Content -->
            <div class="article-content" id="article-body">
                <!-- Injected Content -->
            </div>

            <!-- Footer -->
            <div class="article-footer">
                <a href="index.html#blog" class="back-btn"><i class="fas fa-arrow-left"></i> Back to Insights</a>
                <div class="share-links">
                    <span
                        style="color:var(--text-muted); margin-right: 15px; align-self:center; font-size:0.9rem;">Share
                        this article</span>
                    <a href="#" class="share-icon"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#" class="share-icon"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="share-icon"><i class="fab fa-facebook-f"></i></a>
                </div>
            </div>
        </article>
    </div>

    <footer
        style="text-align: center; padding: 4rem 2rem 2rem; border-top: 1px solid rgba(255,255,255,0.05); color: var(--text-muted); font-size: 0.9rem;">
        <p>&copy; 2026 RLC Advocates. All Rights Reserved.</p>
    </footer>

    <script src="script.js"></script> <!-- Core Interactivity (Sticky Header, Mobile Menu) -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const params = new URLSearchParams(window.location.search);
            const slug = params.get('slug');

            if (!slug) {
                window.location.href = 'index.html';
                return;
            }

            try {
                const response = await fetch(`http://localhost:1337/api/articles?filters[slug][$eq]=${slug}&populate=*`);
                const data = await response.json();

                if (data.data.length === 0) {
                    document.getElementById('loading').innerText = 'Article not found.';
                    return;
                }

                const article = data.data[0];

                // Populate
                document.title = `${article.title} | RLC Advocates`;
                document.getElementById('article-title').innerText = article.title;
                document.getElementById('article-category').innerText = article.category;
                document.getElementById('article-date').innerText = new Date(article.date).toLocaleDateString();

                if (article.cover?.url) {
                    document.getElementById('article-cover').src = `http://localhost:1337${article.cover.url}`;
                    document.getElementById('article-cover').alt = article.title;
                } else {
                    document.querySelector('.featured-image-wrapper').style.display = 'none'; // Hide if no image
                }

                // Render Content
                if (typeof article.content === 'string') {
                    document.getElementById('article-body').innerHTML = marked.parse(article.content);
                } else {
                    // Block Renderer Fallback
                    const html = article.content.map(block => {
                        if (block.type === 'paragraph') return `<p>${block.children[0].text}</p>`;
                        if (block.type === 'heading') return `<h3>${block.children[0].text}</h3>`;
                        if (block.type === 'list') {
                            const tag = block.format === 'ordered' ? 'ol' : 'ul';
                            const items = block.children.map(item => `<li>${item.children[0].text}</li>`).join('');
                            return `<${tag}>${items}</${tag}>`;
                        }
                        return '';
                    }).join('');
                    document.getElementById('article-body').innerHTML = html;
                }

                document.getElementById('loading').style.display = 'none';
                document.getElementById('article-container').style.display = 'block';

            } catch (error) {
                console.error(error);
                document.getElementById('loading').innerText = 'Error loading article.';
            }
        });
    </script>
</body>

</html>